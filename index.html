<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>공무원 연봉 계산기</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-md mx-auto bg-white rounded-2xl shadow-lg p-6 space-y-4">
    <h1 class="text-2xl font-bold text-center">공무원 연봉 계산기</h1>

    <div>
      <label class="block font-semibold">급수 (1~9)</label>
      <input type="number" id="grade" min="1" max="9" class="w-full p-2 border rounded" />
    </div>

    <div>
      <label class="block font-semibold">호봉 (1~35)</label>
      <input type="number" id="step" min="1" max="35" class="w-full p-2 border rounded" />
    </div>

    <div>
      <label class="block font-semibold">근무평가 등급 (1~4)</label>
      <select id="performance" class="w-full p-2 border rounded">
        <option value="1">1등급 (최우수)</option>
        <option value="2">2등급 (우수)</option>
        <option value="3">3등급 (보통)</option>
        <option value="4">4등급 (미흡)</option>
      </select>
    </div>

    <div>
      <label class="inline-flex items-center">
        <input type="checkbox" id="daeWoo" class="mr-2"> 대우 공무원 여부 (9~6급 4년, 4~5급 7년)
      </label>
    </div>

    <div>
      <label class="inline-flex items-center">
        <input type="checkbox" id="hasSpouse" class="mr-2"> 배우자 있음
      </label>
    </div>

    <div>
      <label class="block font-semibold">자녀 수</label>
      <input type="number" id="children" min="0" class="w-full p-2 border rounded" />
    </div>

    <div>
      <label class="block font-semibold">배우자·자녀 제외 부양가족 수</label>
      <input type="number" id="otherDependents" min="0" class="w-full p-2 border rounded" />
    </div>

    <div>
      <label class="inline-flex items-center">
        <input type="checkbox" id="civilService" class="mr-2"> 6급 이하이며 민원업무 수행 중
      </label>
    </div>

    <button onclick="calculateSalary()" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">연봉 계산</button>

    <div id="result" class="text-center text-base font-semibold text-green-700 whitespace-pre-wrap"></div>
  </div>

  <script>
    const salaryTable = {
      1: [4498600, 4656300, 4818000, 4983300, 5152700, 5324100, 5498000, 5673300, 5851300, 6030200, 6208700, 6393300, 6578900, 6765000, 6927600, 7072100, 7200100, 7314100, 7416200, 7507800, 7592100, 7667200, 7730800],
      2: [4049900, 4200100, 4352400, 4506000, 4661900, 4817900, 4976000, 5133900, 5292900, 5451700, 5611300, 5776400, 5942500, 6092900, 6231500, 6358500, 6475400, 6582300, 6681100, 6771100, 6853500, 6929100, 6998200, 7054800, 7108800],
      3: [3653800, 3789000, 3928200, 4068400, 4210900, 4354800, 4500500, 4646400, 4793600, 4940700, 5088100, 5240800, 5382800, 5514600, 5636100, 5749300, 5854500, 5952400, 6042800, 6127600, 6206100, 6278700, 6345700, 6408500, 6459700, 6508900, 6554400],
      4: [3131600, 3259400, 3389400, 3522400, 3657200, 3793400, 3930700, 4068700, 4207200, 4345600, 4485100, 4616500, 4739200, 4853900, 4961800, 5063700, 5158200, 5246500, 5329000, 5406100, 5478100, 5545600, 5609100, 5668900, 5723500, 5769900, 5812500, 5853400],
      5: [2798500, 2911500, 3029000, 3151000, 3276200, 3403900, 3533600, 3664900, 3796700, 3929300, 4053400, 4172900, 4286400, 4392200, 4492200, 4586300, 4674800, 4758300, 4837000, 4910800, 4980200, 5045400, 5106900, 5164400, 5218800, 5270000, 5312500, 5353300],
      6: [2308700, 2416100, 2526800, 2640000, 2756600, 2876400, 2996600, 3117100, 3238000, 3351400, 3458900, 3564800, 3664400, 3758500, 3848900, 3933600, 4014400, 4090900, 4163400, 4231500, 4297200, 4358900, 4416700, 4472000, 4524400, 4574000, 4621100, 4660600, 4697500, 4734100, 4767900, 4799800],
      7: [2173600, 2237100, 2307500, 2385500, 2480300, 2591900, 2704100, 2817200, 2924700, 3027300, 3124100, 3219200, 3309500, 3395700, 3478200, 3556100, 3631000, 3702500, 3770000, 3834200, 3895500, 3953200, 4009300, 4062300, 4112600, 4160900, 4201600, 4239600, 4276400, 4311500, 4344400],
      8: [2028200, 2067600, 2109000, 2163100, 2228500, 2331700, 2434400, 2533700, 2628300, 2717900, 2804500, 2889200, 2970500, 3048400, 3123100, 3195300, 3262600, 3327800, 3390600, 3450300, 3507400, 3562200, 3614300, 3664600, 3712400, 3758700, 3797300, 3834500, 3869700, 3903700],
      9: [2000900, 2017000, 2039500, 2068300, 2104000, 2146800, 2197300, 2287400, 2373600, 2456700, 2535700, 2614400, 2689800, 2763100, 2833100, 2900800, 2967000, 3028500, 3089200, 3146900, 3201400, 3253700, 3303600, 3351500, 3397100, 3438400, 3474000, 3508200, 3541200, 3573300, 3604900]
    };


    const performanceBonus = { 1: 0.1, 2: 0.07, 3: 0.04, 4: 0.0 };
    const positionBonus = { 1: 750000, 2: 650000, 3: 500000, 4: 400000, 5: 250000, 6: 185000, 7: 180000, 8: 175000, 9: 175000 };

    function getSeniorityBonus(years, monthlyBase) {
      let rate = 0;
      if (years <= 2) rate = 0.2;
      else if (years <= 5) rate = 0.4;
      else if (years === 6) rate = 0.5;
      else if (years === 7) rate = 0.6;
      else if (years === 8) rate = 0.7;
      else if (years === 9) rate = 0.8;
      else if (years === 10) rate = 0.9;
      else rate = 1.0;

      const oneTime = monthlyBase * rate;

      let fixedBonus = 0;
      if (years <= 5) fixedBonus = 420000;
      else if (years <= 10) fixedBonus = 600000;
      else if (years <= 15) fixedBonus = 720000;
      else if (years <= 20) fixedBonus = 960000;
      else if (years <= 25) fixedBonus = 1320000;
      else fixedBonus = 1560000;

      return oneTime + fixedBonus;
    }

    function getFamilyBonus(hasSpouse, children, others) {
      let bonus = 0;
      if (hasSpouse) bonus += 40000;
      if (children >= 1) {
        bonus += children === 1 ? 50000
              : children === 2 ? 130000
              : 130000 + (children - 2) * 120000;
      }
      bonus += others * 20000;
      return bonus * 12;
    }

    function getWelfarePoints(hasSpouse, children, others, step, grade, isCivil) {
      let points = 400000;
      const years = step + (9 - grade);

      points += Math.min(years, 30) * 10000;

      if (hasSpouse) points += 100000;
      points += others * 50000;

      if (children >= 1) points += 50000;
      if (children >= 2) points += 100000;
      if (children >= 3) points += (children - 2) * 200000;

      if (isCivil && grade >= 6) points += 600000;

      return points;
    }

    function calculateSalary() {
      const grade = parseInt(document.getElementById("grade").value);
      const step = parseInt(document.getElementById("step").value);
      const perf = parseInt(document.getElementById("performance").value);
      const isDaeWoo = document.getElementById("daeWoo").checked;
      const hasSpouse = document.getElementById("hasSpouse").checked;
      const children = parseInt(document.getElementById("children").value) || 0;
      const otherDependents = parseInt(document.getElementById("otherDependents").value) || 0;
      const isCivil = document.getElementById("civilService").checked;

      if (!salaryTable[grade] || !salaryTable[grade][step - 1]) {
        document.getElementById("result").textContent = "올바른 급수와 호봉을 입력하세요.";
        return;
      }

      const monthly = salaryTable[grade][step - 1];
      const yearlyBase = monthly * 12;
      const perfBonus = yearlyBase * performanceBonus[perf];
      const position = (positionBonus[grade] || 0) * 12;
      const holidayBonus = monthly * 1.2;
      const years = step + (9 - grade);
      const seniority = getSeniorityBonus(years, monthly);
      const daeWooBonus = isDaeWoo && grade >= 4 && grade <= 9 ? monthly * 0.041 * 12 : 0;
      const familyBonus = getFamilyBonus(hasSpouse, children, otherDependents);
      const welfare = getWelfarePoints(hasSpouse, children, otherDependents, step, grade, isCivil);
      const managementBonus = grade <= 4 ? monthly * 0.09 * 12 : 0;

      const total = yearlyBase + perfBonus + position + holidayBonus + seniority + daeWooBonus + familyBonus + welfare + managementBonus;

      document.getElementById("result").textContent =
        `연봉: ${yearlyBase.toLocaleString()}원\n` +
        `직급보조비: ${position.toLocaleString()}원\n` +
        `성과급: ${perfBonus.toLocaleString()}원\n` +
        `명절휴가비: ${holidayBonus.toLocaleString()}원\n` +
        `정근수당: ${seniority.toLocaleString()}원\n` +
        `대우공무원수당: ${daeWooBonus.toLocaleString()}원\n` +
        `가족수당: ${familyBonus.toLocaleString()}원\n` +
        `복지포인트: ${welfare.toLocaleString()}원\n` +
        `관리업무수당: ${managementBonus.toLocaleString()}원\n` +
        `총합계: ${total.toLocaleString()}원`;
    }
  </script>
</body>
</html>
